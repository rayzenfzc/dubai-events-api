<!DOCTYPE html>
<html lang="en">

<head>
  <!-- BASIC META TAGS -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- PRIMARY SEO META TAGS -->
  <title>Dubai Events 2025 | Things to Do, Entertainment & Activities in Dubai</title>
  <meta name="description"
    content="Discover the best Dubai events, concerts, brunches & family activities. Browse upcoming entertainment, shows & things to do in Dubai. Book tickets today!" />
  <link rel="canonical" href="https://www.dubaievents.online/" />
  <meta name="robots" content="index, follow" />

  <!-- GOOGLE SEARCH CONSOLE VERIFICATION -->
  <meta name="google-site-verification" content="hKnBm29WFHHkqaTJAu-WOdJ6z0hkhI_uSee5nkjXjC8" />

  <!-- FACEBOOK APP ID -->
  <meta property="fb:app_id" content="786273057790918" />

  <!-- OPEN GRAPH (SOCIAL MEDIA) META TAGS -->
  <meta property="og:site_name" content="Dubai Events Online" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Dubai Events 2025 | Things to Do, Entertainment & Activities in Dubai" />
  <meta property="og:description"
    content="Discover the best Dubai events, concerts, brunches & family activities. Browse upcoming entertainment, shows & things to do in Dubai." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.dubaievents.online/" />
  <meta property="og:image"
    content="https://firebasestorage.googleapis.com/v0/b/studio-5227087607-7e335.firebasestorage.app/o/DEO%2FDEO%20ANIMATED%20NEW%20FINAL%20.gif?alt=media&token=b9ceed26-f90e-400d-9261-55c763740419" />
  <meta property="og:image:alt"
    content="Dubai Events Online - Your Guide to Events, Concerts & Entertainment in Dubai" />

  <!-- TWITTER CARD META TAGS -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Dubai Events 2025 | Things to Do in Dubai" />
  <meta name="twitter:description"
    content="Browse concerts, shows, brunches & family events in Dubai. Book tickets for the best entertainment." />
  <meta name="twitter:image"
    content="https://firebasestorage.googleapis.com/v0/b/studio-5227087607-7e335.firebasestorage.app/o/DEO%2FDEO%20ANIMATED%20NEW%20FINAL%20.gif?alt=media&token=b9ceed26-f90e-400d-9261-55c763740419" />

  <!-- PERFORMANCE OPTIMIZATION - PRECONNECT -->
  <link rel="preconnect" href="https://corsproxy.io" />
  <link rel="preconnect" href="https://firebasestorage.googleapis.com" />
  <link rel="preconnect" href="https://cdn.tailwindcss.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />

  <!-- EXTERNAL RESOURCES -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;600;700&family=Inter:wght@400;600;800&display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <!-- FIREBASE SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <style>
    :root {
      --zen-light-bg: #F8F5F1;
      --zen-dark-text: #3A403A;
      --zen-accent-silver: #A9B2B0;
      --zen-border-light: rgba(0, 0, 0, 0.08);
      --zen-border-prominent: rgba(0, 0, 0, 0.2);
      --zen-solid-black: #000000;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
      color: var(--zen-dark-text);
    }

    .font-display {
      font-family: 'Raleway', sans-serif
    }

    /* FROSTED GLASS EFFECT (Zen Version) */
    .frosted-glass {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px) saturate(180%);
      -webkit-backdrop-filter: blur(10px) saturate(180%);
      border-radius: 24px;
      border: 2px solid var(--zen-border-prominent);
      box-shadow: 0 2px 18px rgba(0, 0, 0, 0.1), 0 6px 24px rgba(0, 0, 0, 0.08);
    }

    /* PROMO BANNER - Redesigned */
    .promo-dropdown {
      position: sticky;
      top: 0;
      z-index: 50;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(240, 240, 240, 0.8));
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--zen-border-light);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      color: var(--zen-dark-text);
    }

    .promo-content {
      max-width: 100%;
      margin: 0 auto;
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .promo-text {
      flex: 1;
      color: var(--zen-dark-text);
      font-size: 0.9rem;
      font-weight: 500;
      min-width: 180px;
    }

    .promo-code-small {
      padding: 0.5rem 0.9rem;
      background: rgba(0, 0, 0, 0.05);
      border: 1px dashed rgba(0, 0, 0, 0.2);
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      font-weight: 700;
      color: var(--zen-accent-silver);
      cursor: pointer;
      transition: all 0.3s;
    }

    .promo-dropdown-toggle {
      padding: 0.5rem 1rem;
      background: rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 6px;
      color: var(--zen-dark-text);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.3s;
      white-space: nowrap;
    }

    .promo-list {
      display: none;
      max-width: 100%;
      margin: 0 auto;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.9);
    }

    .promo-list.active {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1rem;
    }

    @media(max-width:640px) {
      .promo-list.active {
        grid-template-columns: 1fr;
      }
    }

    .promo-item {
      padding: 0.875rem 1rem;
      background: rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }

    .promo-item-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--zen-dark-text);
      margin-bottom: 0.25rem;
    }

    .promo-item-deal {
      font-size: 0.8rem;
      color: var(--zen-accent-silver);
      margin-bottom: 0.5rem;
    }

    .promo-item-code {
      display: inline-block;
      padding: 0.4rem 0.75rem;
      background: rgba(0, 0, 0, 0.08);
      border: 1px dashed rgba(0, 0, 0, 0.2);
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 0.75rem;
      color: var(--zen-accent-silver);
      cursor: pointer;
    }

    /* LOGO HEADER - FULL WIDTH */
    .header-logo-bg {
      width: 100%;
      max-width: 100%;
      height: 0;
      padding-top: 25%;
      background: url('https://firebasestorage.googleapis.com/v0/b/studio-5227087607-7e335.firebasestorage.app/o/DEO%2FDEO%20ANIMATED%20NEW%20FINAL%20.gif?alt=media&token=b9ceed26-f90e-400d-9261-55c763740419') no-repeat center center;
      background-size: contain;
      background-color: var(--zen-light-bg);
      position: relative;
      display: block;
      z-index: 2;
      margin: 0;
      left: auto;
      right: auto;
    }

    @media(max-width:640px) {
      .header-logo-bg {
        padding-top: 35%;
      }
    }

    @media(min-width:641px) and (max-width:1024px) {
      .header-logo-bg {
        padding-top: 25%;
      }
    }

    @media(min-width:1025px) {
      .header-logo-bg {
        padding-top: 15%;
      }
    }

    /* NAVIGATION BAR - Redesigned */
    .main-nav {
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), rgba(240, 240, 240, 0.8));
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--zen-border-light);
      padding: 0.75rem 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      position: relative;
      z-index: 2;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      border-radius: 12px;
      margin: 1rem;
    }

    .main-nav::-webkit-scrollbar {
      display: none;
    }

    .nav-container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.25rem;
      white-space: nowrap;
    }

    .nav-container a {
      color: var(--zen-dark-text);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 600;
      font-family: 'Raleway', sans-serif;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.3s;
      background: rgba(0, 0, 0, 0.03);
      border: 1px solid rgba(0, 0, 0, 0.08);
    }

    .nav-container a:hover {
      background: rgba(0, 0, 0, 0.08);
      color: var(--zen-accent-silver);
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
    }

    @media(max-width:768px) {
      .nav-container {
        justify-content: flex-start;
      }

      .nav-container a {
        font-size: 0.8rem;
        padding: 0.4rem 0.8rem;
      }
    }

    /* CAROUSEL - RESTORED & REFINED */
    .hero-section {
      max-width: 1280px;
      margin: 0 auto;
      padding: 1.5rem 1rem;
    }

    .hero-wrap {
      position: relative;
      width: 100%;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1), 0 10px 30px rgba(0, 0, 0, 0.08);
      border: 2px solid var(--zen-border-prominent);
      contain: layout paint;
    }

    .hero-inner {
      display: flex;
      transition: transform .7s cubic-bezier(0.4, 0, 0.2, 1);
      width: 100%;
      will-change: transform;
    }

    .hero-slide {
      min-width: 100%;
      width: 100%;
      flex-shrink: 0;
      position: relative;
      background: transparent;
      display: flex;
      cursor: pointer;
      height: 380px;
    }

    @media (min-width: 1024px) {
      .hero-slide {
        height: 380px;
        overflow: visible;
      }
    }

    /* Carousel Promo Badge */
    .hero-promo-badge {
      position: absolute;
      top: 1rem;
      left: 1.25rem;
      padding: 0.4rem 0.9rem;
      background: #ff0000;
      color: #ffffff;
      font-size: 0.75rem;
      font-weight: 700;
      border-radius: 8px;
      border: 1px solid rgba(255, 0, 0, 0.3);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 2;
      width: auto;
      white-space: nowrap;
    }

    /* Carousel Image Area */
    .hero-slide-wrapper {
      position: relative;
      width: 70%;
      height: 100%;
      overflow: hidden;
    }

    .hero-slide-img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .hero-cap {
      position: relative;
      width: 30%;
      height: 100%;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px) saturate(180%);
      -webkit-backdrop-filter: blur(10px) saturate(180%);
      border-left: 2px solid var(--zen-border-prominent);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      color: var(--zen-solid-black);
    }

    .hero-title {
      font-family: 'Raleway', sans-serif;
      font-size: clamp(1.1rem, 3vw, 1.5rem);
      font-weight: 700;
      color: var(--zen-solid-black);
      margin-bottom: 0.5rem;
      line-height: 1.3;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }

    .hero-meta {
      font-size: 0.85rem;
      color: var(--zen-solid-black);
      margin-bottom: 0.2rem;
      font-weight: 500;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .hero-price {
      font-size: 1.05rem;
      font-weight: 700;
      color: var(--zen-accent-silver);
      margin-top: 0.5rem;
      margin-bottom: 0.8rem;
    }

    .hero-buttons {
      display: flex;
      justify-content: center;
      margin-top: auto;
    }

    .hero-btn-buy {
      flex: none;
      width: 80%;
      max-width: 150px;
      padding: 0.75rem 1rem;
      background: var(--zen-accent-silver);
      color: #ffffff;
      font-weight: 700;
      font-size: 0.85rem;
      border-radius: 8px;
      text-align: center;
      text-decoration: none;
      box-shadow: 0 0 10px rgba(169, 178, 176, 0.3);
      transition: all 0.3s;
      border: none;
      cursor: pointer;
    }

    .hero-btn-buy:hover {
      box-shadow: 0 0 15px rgba(169, 178, 176, 0.5);
      transform: translateY(-1px);
      background: #909997;
    }

    .hero-btn-info {
      display: none;
    }

    @media (max-width:640px) {
      .hero-slide {
        flex-direction: column;
      }

      .hero-slide-wrapper {
        width: 100%;
        height: 70%;
      }

      .hero-cap {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        min-height: 30%;
        height: auto;
        padding: 1rem 1.25rem;
        border-top: 2px solid var(--zen-border-prominent);
        border-left: none;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 0.4rem;
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        color: var(--zen-solid-black);
      }

      .hero-promo-badge {
        left: 1.25rem;
      }

      .hero-btn-buy {
        padding: 0.6rem 0.8rem;
        font-size: 0.8rem;
      }

      .hero-title,
      .hero-meta,
      .hero-price {
        font-size: 0.75rem;
        font-weight: 600;
        line-height: 1.2;
        color: #222;
      }

      .hero-price {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    }

    .hero-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 0.75rem;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.1);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 0, 0, 0.2);
      z-index: 10;
      cursor: pointer;
      color: var(--zen-dark-text);
      transition: all 0.3s;
    }

    .hero-arrow:hover {
      background: rgba(0, 0, 0, 0.15);
    }

    .hero-arrow.left {
      left: 1rem;
    }

    .hero-arrow.right {
      right: 1rem;
    }

    /* MAIN CONTENT */
    .main-content {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1rem 3rem;
    }

    /* SEARCH - Redesigned */
    .search-section {
      padding: 1.5rem 1rem;
    }

    .search-wrapper {
      max-width: 600px;
      margin: 0 auto;
      position: relative;
    }

    #searchBox {
      width: 100%;
      padding: 1rem 1.25rem 1rem 3rem;
      border-radius: 12px;
      border: 1px solid var(--zen-border-prominent);
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), rgba(240, 240, 240, 0.8));
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      color: var(--zen-dark-text);
      font-size: 1rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    #searchBox::placeholder {
      color: #9ca3af;
    }

    #searchBox:focus {
      outline: none;
      border-color: var(--zen-accent-silver);
      box-shadow: 0 0 0 3px rgba(169, 178, 176, 0.3);
    }

    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--zen-accent-silver);
      font-size: 1.2rem;
    }

    /* SECTIONS */
    .event-section {
      padding: 2rem 0;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: clamp(1.5rem, 3vw, 2rem);
      font-family: 'Raleway', sans-serif;
      font-weight: 300;
      color: var(--zen-dark-text);
    }

    .accent-bar {
      height: 3px;
      width: 50px;
      background: var(--zen-accent-silver);
      border-radius: 999px;
      margin-top: 0.5rem;
    }

    .show-all-btn {
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--zen-accent-silver);
      background: rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .show-all-btn:hover {
      color: var(--zen-dark-text);
      background: rgba(0, 0, 0, 0.1);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }

    /* EVENT CARDS - MOBILE & TABLET: HORIZONTAL SCROLL */
    .row-grid {
      display: flex;
      gap: 1.5rem;
      overflow-x: auto;
      overflow-y: hidden;
      padding: 0.5rem 0 1.5rem;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
      overscroll-behavior-x: contain;
      margin: 0 -1rem;
      padding-left: 1rem;
      padding-right: 1rem;
    }

    .row-grid::-webkit-scrollbar {
      display: none
    }

    /* Mobile: each card takes full width */
    .row-grid .card {
      min-width: calc(100% - 2rem);
      width: calc(100% - 2rem);
      margin: 0;
      scroll-snap-align: center;
    }

    /* Tablet: allow multiple cards */
    @media(min-width:641px) and (max-width:1023px) {
      .row-grid {
        justify-content: flex-start;
        gap: 1.5rem;
        padding-left: 1rem;
        padding-right: 1rem;
        margin: 0 -1rem;
      }

      .row-grid .card {
        min-width: 300px;
        width: auto;
        flex-basis: auto;
        scroll-snap-align: start;
      }
    }

    /* DESKTOP: 3-COLUMN GRID, CENTERED, 6 CARDS INITIALLY */
    @media(min-width:1024px) {
      .row-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        overflow: visible;
        margin: 0 auto;
        padding: 0.5rem 0 1.5rem;
        max-width: 1100px;
      }

      .row-grid .card {
        min-width: 0;
        width: 100%;
        margin: 0;
        scroll-snap-align: unset;
      }
    }

    /* CARD DESIGN */
    .card {
      display: flex;
      flex-direction: column;
      height: 300px;
      border-radius: 20px;
      overflow: hidden;
      border: 2px solid var(--zen-border-prominent);
      background: var(--zen-light-bg);
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
      cursor: pointer;
      transition: all 0.3s;
    }

    .card:hover {
      box-shadow: 0 4px 28px rgba(0, 0, 0, 0.15), 0 12px 40px rgba(0, 0, 0, 0.12);
      transform: translateY(-8px);
      border-color: rgba(0, 0, 0, 0.3);
    }

    @media (min-width:1024px) {
      .card {
        height: 340px;
      }
    }

    .card-media {
      height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f0f0f0;
      padding: 0.5rem;
    }

    .card-media img {
      width: 100%;
      height: auto;
      max-height: 100%;
      object-fit: contain;
      object-position: center;
      border-radius: 12px;
    }

    .card-content {
      flex: 1;
      padding: 0.75rem 1rem;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 0.3rem;
      font-size: 0.8rem;
      background: var(--zen-light-bg);
    }

    .card-title {
      font-size: clamp(0.65rem, 1.8vw, 0.85rem);
      font-weight: 700;
      line-height: 1.2;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      margin-bottom: 0.2rem;
    }

    .card-venue {
      font-size: 0.75rem;
      font-weight: 600;
      color: #444;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-date {
      font-size: 0.78rem;
      color: #555;
      margin-bottom: 0;
      font-weight: 500;
    }

    .card-price {
      font-size: 0.75rem;
      font-weight: 500;
      color: #444;
      margin-bottom: 0.2rem;
    }

    .card-buttons {
      display: flex;
      justify-content: flex-end;
      margin-top: auto;
    }

    .card-btn-buy {
      padding: 0.4rem 0.6rem;
      font-size: 0.7rem;
      font-weight: 600;
      background: var(--zen-accent-silver);
      color: #fff;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
    }

    .card-btn-buy:hover {
      background: #909997;
      box-shadow: 0 4px 15px rgba(169, 178, 176, 0.45);
      transform: translateY(-2px);
    }

    #loading {
      text-align: center;
      padding: 2rem;
      color: #6b7280;
      font-size: 0.95rem;
    }

    footer {
      text-align: center;
      padding: 3rem 1rem;
      color: #6b7280;
      font-size: 0.875rem;
      line-height: 1.6;
      background: var(--zen-light-bg);
      margin-top: 2rem;
      border-top: 1px solid var(--zen-border-light);
      box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.03);
    }
  </style>
</head>

<body>
  <!-- PROMO BANNER -->
  <div class="promo-dropdown">
    <div class="promo-content">
      <div class="promo-text" id="currentPromo">La Perle by Dragone: Save 20%</div>
      <div class="promo-code-small" id="currentCode" onclick="copyCurrentCode()">FNFO20</div>
      <button class="promo-dropdown-toggle" onclick="togglePromoList()">
        <span id="toggleText">View All Promos</span>
      </button>
    </div>
    <div class="promo-list" id="promoList"></div>
  </div>
  <!-- LOGO HEADER -->
  <header class="header-logo-bg"></header>
  <!-- CAROUSEL -->
  <section class="hero-section">
    <div class="hero-wrap">
      <div class="hero-inner" id="carouselInner"></div>
      <button class="hero-arrow left" id="carouselPrev">
        <span class="material-symbols-outlined">chevron_left</span>
      </button>
      <button class="hero-arrow right" id="carouselNext">
        <span class="material-symbols-outlined">chevron_right</span>
      </button>
    </div>
  </section>
  <!-- NAVIGATION -->
  <nav class="main-nav">
    <div class="nav-container">
      <a href="#top">üé≠ Top Events</a>
      <a href="#concerts">üéµ Concerts</a>
      <a href="#shows">üé™ Shows</a>
      <a href="#attractions">üé¢ Attractions</a>
      <a href="#today">üìÖ Today</a>
    </div>
  </nav>
  <!-- MAIN CONTENT -->
  <main class="main-content">
    <!-- SEARCH -->
    <section class="search-section">
      <div class="search-wrapper">
        <span class="material-symbols-outlined search-icon">search</span>
        <input id="searchBox" placeholder="Search concerts, shows or attractions‚Ä¶" type="text" />
      </div>
    </section>
    <!-- TOP EVENTS -->
    <section id="top" class="event-section">
      <div class="section-header">
        <div>
          <h2 class="section-title">Top Events</h2>
          <div class="accent-bar"></div>
        </div>
        <button id="btn-top" class="show-all-btn">Show all ‚Üí</button>
      </div>
      <div id="grid-top" class="row-grid"></div>
    </section>
    <!-- CONCERTS -->
    <section id="concerts" class="event-section">
      <div class="section-header">
        <div>
          <h2 class="section-title">Concerts</h2>
          <div class="accent-bar"></div>
        </div>
        <button id="btn-concerts" class="show-all-btn">Show all ‚Üí</button>
      </div>
      <div id="grid-concerts" class="row-grid"></div>
    </section>
    <!-- SHOWS -->
    <section id="shows" class="event-section">
      <div class="section-header">
        <div>
          <h2 class="section-title">Shows & Theatrical Plays</h2>
          <div class="accent-bar"></div>
        </div>
        <button id="btn-shows" class="show-all-btn">Show all ‚Üí</button>
      </div>
      <div id="grid-shows" class="row-grid"></div>
    </section>
    <!-- ATTRACTIONS -->
    <section id="attractions" class="event-section">
      <div class="section-header">
        <div>
          <h2 class="section-title">Top Attractions & Experiences</h2>
          <div class="accent-bar"></div>
        </div>
        <button id="btn-attractions" class="show-all-btn">Show all ‚Üí</button>
      </div>
      <div id="grid-attractions" class="row-grid"></div>
    </section>
    <!-- TODAY -->
    <section id="today" class="event-section">
      <div class="section-header">
        <div>
          <h2 class="section-title">Events Today</h2>
          <div class="accent-bar"></div>
        </div>
        <button id="btn-today" class="show-all-btn">Show all ‚Üí</button>
      </div>
      <div id="grid-today" class="row-grid"></div>
    </section>
    <div id="loading">Fetching latest Dubai events‚Ä¶</div>

    <!-- ADMIN UPLOAD BUTTON (Hidden by default) -->
    <div id="admin-upload" style="text-align:center; padding:2rem; display:none;">
      <button id="uploadEventsBtn"
        style="padding:1rem 2rem; font-size:1.1rem; background:#4CAF50; color:white; border:none; border-radius:8px; cursor:pointer; box-shadow:0 4px 15px rgba(76,175,80,0.3);">
        üì§ Upload Events to Firestore
      </button>
      <div id="upload-log"
        style="margin-top:1rem; padding:1rem; background:#000; color:#0f0; border-radius:8px; font-family:monospace; font-size:0.9rem; max-height:300px; overflow-y:auto; display:none;">
      </div>
    </div>
  </main>
  <!-- FOOTER -->
  <footer>
    <p>Affiliate Disclosure: This site may earn commissions from qualifying purchases.</p>
    <p>¬© 2025 Dubai Events Online ‚Äî Official Affiliate Partner of Platinumlist</p>
  </footer>
  <!-- JAVASCRIPT - FIREBASE & EVENT LOGIC -->
  <script type="module">
    // FIREBASE CONFIGURATION
    const firebaseConfig = {
      apiKey: "AIzaSyA_-IC84RPMHQCfznaLUWS8UotwHR-2bc8",
      authDomain: "studio-1436622267-3c444.firebaseapp.com",
      projectId: "studio-1436622267-3c444",
      storageBucket: "studio-1436622267-3c444.firebasestorage.app",
      messagingSenderId: "350773236607",
      appId: "1:350773236607:web:91cb954c8524b1ab07804a"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    // CONSTANTS
    const DEFAULT_IMG = "https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?w=1600&h=900&fit=crop";
    const AFF_PREFIX = "https://dubai.platinumlist.net/";

    // PROMO DEALS
    const PROMO_DEALS = [
      { event: "La Perle by Dragone", deal: "Save 20%", code: "FNFO20" },
      { event: "Exotic Bird Show", deal: "Save up to 10%", code: "DSS24" },
      { event: "Fishing Trip Boat Tour", deal: "Save up to 20%", code: "PLEIDAD24" },
      { event: "Alexandra Sea Lounge", deal: "Save up to 10%", code: "DSS24" },
      { event: "Dubai Frame VIP Tickets", deal: "Up to 5% off", code: "AUTO5" },
      { event: "Al Ain Zoo Tickets", deal: "Up to 23% Off", code: "ZOO23" }
    ];
    let currentPromoIndex = 0;
    let promoListOpen = false;
    function updateCurrentPromo() {
      const promo = PROMO_DEALS[currentPromoIndex];
      document.getElementById('currentPromo').textContent = `${promo.event}: ${promo.deal}`;
      document.getElementById('currentCode').textContent = promo.code;
      currentPromoIndex = (currentPromoIndex + 1) % PROMO_DEALS.length;
    }
    function renderPromoList() {
      const list = document.getElementById('promoList');
      list.innerHTML = PROMO_DEALS.map(promo => `
        <div class="promo-item">
          <div class="promo-item-title">${promo.event}</div>
          <div class="promo-item-deal">${promo.deal}</div>
          <div class="promo-item-code" onclick="copyPromoCode('${promo.code}', this)">${promo.code}</div>
        </div>
      `).join('');
    }
    window.togglePromoList = function () {
      promoListOpen = !promoListOpen;
      const list = document.getElementById('promoList');
      const toggle = document.getElementById('toggleText');
      list.classList.toggle('active');
      toggle.textContent = promoListOpen ? 'Hide Promos' : 'View All Promos';
    };
    window.copyCurrentCode = function () {
      const code = document.getElementById('currentCode').textContent;
      navigator.clipboard.writeText(code);
      document.getElementById('currentCode').textContent = '‚úì Copied!';
      setTimeout(() => updateCurrentPromo(), 2000);
    };
    window.copyPromoCode = function (code, el) {
      navigator.clipboard.writeText(code);
      const orig = el.textContent;
      el.textContent = '‚úì Copied!';
      setTimeout(() => { el.textContent = orig; }, 2000);
    };
    updateCurrentPromo();
    setInterval(updateCurrentPromo, 8000);
    renderPromoList();
    // STATE MANAGEMENT
    const state = {
      top: { all: [], showAll: false },
      concerts: { all: [], showAll: false },
      shows: { all: [], showAll: false },
      attractions: { all: [], showAll: false },
      today: { all: [], showAll: false },
      query: ""
    };
    // HELPER FUNCTIONS
    function aff(u) {
      try {
        return AFF_PREFIX + encodeURIComponent(decodeURIComponent(u || ""));
      } catch {
        return AFF_PREFIX + encodeURIComponent(u || "");
      }
    }
    function parseDate(s) {
      if (!s) return null;
      let d = new Date(s);
      if (!isNaN(d)) return d;
      const m = s.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/);
      if (m) return new Date(+m[3], +m[2] - 1, +m[1]);
      return null;
    }
    function card(e) {
      return `<a href="${e.link}" target="_blank" rel="noopener" class="card">
        <div class="card-media">
          <img src="${e.image}" alt="${e.title}" loading="lazy"
               onerror="this.onerror=null; this.src='${DEFAULT_IMG}'"/>
        </div>
        <div class="card-content">
          <div class="card-title">${e.title}</div>
          ${e.venue ? `<div class="card-venue">üìç ${e.venue}</div>` : ''}
          ${e.date ? `<div class="card-date">üìÖ ${e.date}</div>` : ''}
          ${e.price
          ? `<div class="card-price">From ${e.price} AED</div>`
          : `<div class="card-price">Price info coming soon</div>`}
          <div class="card-buttons">
            <span class="card-btn-buy">Buy / Info</span>
          </div>
        </div>
      </a>`;
    }
    function renderGrid(key, limit = 6) {
      const grid = document.getElementById(`grid-${key}`);
      const list = state.query ? state[key].all.filter(matchesQuery) : state[key].all;
      grid.innerHTML = list.slice(0, limit).map(card).join("");
    }
    function matchesQuery(e) {
      const t = state.query.toLowerCase();
      return [e.title, e.venue, e.badge].some(s => (s || "").toLowerCase().includes(t));
    }
    // CAROUSEL
    let carouselIndex = 0;
    let carouselTimer = null;
    let carouselSlideCount = 0;
    function renderCarousel(slides) {
      const inner = document.getElementById('carouselInner');
      if (!slides.length) {
        inner.innerHTML = "";
        carouselSlideCount = 0;
        if (carouselTimer) clearInterval(carouselTimer);
        return;
      }
      inner.innerHTML = slides.map(s => `
        <a href="${s.link}" target="_blank" rel="noopener" class="hero-slide">
          ${s.badge ? `<div class="hero-promo-badge">${s.badge}</div>` : ''}
          <div class="hero-slide-wrapper">
            <img class="hero-slide-img" src="${s.image}" alt="${s.title}" 
                 onerror="this.onerror=null; this.src='${DEFAULT_IMG}'"/>
          </div>
          <div class="hero-cap">
            <div class="hero-cap-top">
              ${s.title ? `<div class="hero-title">${s.title}</div>` : ''}
              ${s.venue ? `<div class="hero-meta">üìç ${s.venue}</div>` : ''}
              ${s.date ? `<div class="hero-meta">üìÖ ${s.date}</div>` : ''}
            </div>
            <div class="hero-cap-bottom">
              ${s.price
          ? `<div class="hero-price">From <strong>${s.price} AED</strong></div>`
          : `<div class="hero-price">Price info coming soon</div>`}
              <div class="hero-buttons">
                <span class="hero-btn-buy">Buy / Info</span>
              </div>
            </div>
          </div>
        </a>
      `).join('');
      carouselIndex = 0;
      carouselSlideCount = slides.length;
      inner.style.transform = 'translateX(0%)';
      if (carouselTimer) clearInterval(carouselTimer);
      initCarousel();
    }
    function initCarousel() {
      if (carouselSlideCount === 0) return;
      startCarouselTimer();
      document.getElementById('carouselPrev').onclick = () => {
        moveCarousel(-1);
        resetCarouselTimer();
      };
      document.getElementById('carouselNext').onclick = () => {
        moveCarousel(1);
        resetCarouselTimer();
      };
    }
    function moveCarousel(direction) {
      if (carouselSlideCount === 0) return;
      carouselIndex = (carouselIndex + direction + carouselSlideCount) % carouselSlideCount;
      const inner = document.getElementById('carouselInner');
      if (inner) inner.style.transform = `translateX(-${carouselIndex * 100}%)`;
    }
    function startCarouselTimer() {
      carouselTimer = setInterval(() => moveCarousel(1), 6000);
    }
    function resetCarouselTimer() {
      if (carouselTimer) clearInterval(carouselTimer);
      startCarouselTimer();
    }

    // FETCH EVENTS FROM FIRESTORE
    // Helper function to chunk array into smaller arrays (max 30 items for Firestore IN query)
    function chunkArray(array, chunkSize) {
      const chunks = [];
      for (let i = 0; i < array.length; i += chunkSize) {
        chunks.push(array.slice(i, i + chunkSize));
      }
      return chunks;
    }

    console.log('üîÑ Starting to fetch events from Firestore...');

    db.collection('automation').doc('postedEvents').get()
      .then((doc) => {
        console.log('üìÑ Fetched automation/postedEvents document');

        if (doc.exists) {
          const ids = doc.data().ids;
          console.log(`‚úÖ Found ${ids ? ids.length : 0} event IDs:`, ids);

          if (!ids || ids.length === 0) {
            console.warn('‚ö†Ô∏è No event IDs in the document');
            document.getElementById("loading").innerHTML = `<span style="color:#ef4444">‚ö†Ô∏è No events found in database.</span>`;
            return;
          }

          // Split IDs into chunks of 30 (Firestore IN query limit)
          const idChunks = chunkArray(ids, 30);
          console.log(`üì¶ Split into ${idChunks.length} chunks`);
          const allEvents = [];

          // Create promises for each chunk
          const promises = idChunks.map((chunk, index) => {
            console.log(`üîç Fetching chunk ${index + 1}/${idChunks.length} (${chunk.length} IDs)`);
            return db.collection('events')
              .where(firebase.firestore.FieldPath.documentId(), 'in', chunk)
              .get()
              .then((snapshot) => {
                console.log(`‚úÖ Chunk ${index + 1} returned ${snapshot.size} events`);
                snapshot.forEach(doc => {
                  const data = doc.data();
                  allEvents.push({
                    title: data.title || "Event",
                    venue: data.venue || "",
                    date: data.date || "",
                    price: data.price || "",
                    image: data.image || DEFAULT_IMG,
                    link: data.link || "#",
                    badge: data.badge || "",
                    category: data.category || ""
                  });
                });
              });
          });

          // Wait for all chunks to be fetched
          Promise.all(promises)
            .then(() => {
              console.log(`üéâ Total events fetched: ${allEvents.length}`);
              console.log('Sample event:', allEvents[0]);

              state.top.all = allEvents;
              state.concerts.all = allEvents.filter(e => e.category && e.category.toLowerCase().includes("concert"));
              state.shows.all = allEvents.filter(e => e.category && e.category.toLowerCase().includes("show"));
              state.attractions.all = allEvents.filter(e => e.category && e.category.toLowerCase().includes("attraction"));
              state.today.all = allEvents.filter(e => {
                const today = new Date();
                return new Date(e.date).toDateString() === today.toDateString();
              });

              console.log(`üìä Categories - Top: ${state.top.all.length}, Concerts: ${state.concerts.all.length}, Shows: ${state.shows.all.length}, Attractions: ${state.attractions.all.length}, Today: ${state.today.all.length}`);

              ["top", "concerts", "shows", "attractions", "today"].forEach(k => renderGrid(k, 6));
              renderCarousel(allEvents.slice(0, 8));
              document.getElementById("loading").textContent = "";
              console.log('‚ú® Events rendered successfully!');
            })
            .catch(error => {
              console.error('‚ùå Error fetching events:', error);
              document.getElementById("loading").innerHTML = `<span style="color:#ef4444">‚ö†Ô∏è Could not load events. ${error.message}</span>`;
              // Show upload button when events fail to load
              document.getElementById("admin-upload").style.display = "block";
            });
        } else {
          console.warn("‚ùå automation/postedEvents document does not exist!");
          document.getElementById("loading").innerHTML = `<span style="color:#ef4444">‚ö†Ô∏è No event IDs found in database.</span>`;
          // Show upload button when no events exist
          document.getElementById("admin-upload").style.display = "block";
        }
      })
      .catch(error => {
        console.error('‚ùå Error fetching event IDs:', error);
        document.getElementById("loading").innerHTML = `<span style="color:#ef4444">‚ö†Ô∏è Could not load event IDs. ${error.message}</span>`;
        // Show upload button on error
        document.getElementById("admin-upload").style.display = "block";
      });

    // UPLOAD EVENTS FUNCTIONALITY
    document.getElementById('uploadEventsBtn').addEventListener('click', async function () {
      const btn = this;
      const logDiv = document.getElementById('upload-log');

      btn.disabled = true;
      btn.textContent = '‚è≥ Uploading...';
      logDiv.style.display = 'block';
      logDiv.innerHTML = '';

      function log(msg) {
        const line = document.createElement('div');
        line.textContent = msg;
        logDiv.appendChild(line);
        logDiv.scrollTop = logDiv.scrollHeight;
        console.log(msg);
      }

      try {
        log('üì• Loading events from JSON file...');
        const response = await fetch('./events-clean.json');
        const events = await response.json();

        log(`‚úÖ Loaded ${events.length} events`);
        log('üì§ Uploading to Firestore...');

        const batch = db.batch();
        const eventIds = [];

        for (const event of events) {
          const docRef = db.collection('events').doc(event.id.toString());

          batch.set(docRef, {
            ...event,
            link: event.referralUrl,
            price: event.minPrice > 0 ? event.minPrice.toString() : '',
            date: event.startDate || '',
            badge: '',
            category: event.categories && event.categories.length > 0 ? event.categories[0] : ''
          }, { merge: true });

          eventIds.push(event.id.toString());
        }

        await batch.commit();
        log(`‚úÖ Uploaded ${events.length} events to Firestore!`);

        log('üìù Updating postedEvents document...');
        await db.collection('automation').doc('postedEvents').set({
          ids: eventIds,
          updatedAt: firebase.firestore.FieldValue.serverTimestamp()
        });

        log('‚úÖ Updated postedEvents document!');
        log('üéâ SUCCESS! All events uploaded!');
        log('üîÑ Refreshing page in 3 seconds...');

        btn.textContent = '‚úÖ Upload Complete!';

        setTimeout(() => {
          window.location.reload();
        }, 3000);

      } catch (error) {
        log(`‚ùå Error: ${error.message}`);
        console.error(error);
        btn.disabled = false;
        btn.textContent = 'üîÑ Retry Upload';
      }
    });


    // SHOW ALL BUTTONS
    ["top", "concerts", "shows", "attractions", "today"].forEach(k => {
      const btn = document.getElementById(`btn-${k}`);
      if (btn) {
        btn.addEventListener('click', () => {
          state[k].showAll = !state[k].showAll;
          if (state[k].showAll) {
            renderGrid(k, 999);
            btn.textContent = "Show less ‚Üê";
          } else {
            renderGrid(k, 6);
            btn.textContent = "Show all ‚Üí";
          }
        });
      }
    });
    // SEARCH
    let searchTimer;
    document.getElementById('searchBox').addEventListener('input', (e) => {
      clearTimeout(searchTimer);
      searchTimer = setTimeout(() => {
        state.query = e.target.value.trim();
        ["top", "concerts", "shows", "attractions", "today"].forEach(k => renderGrid(k, 6));
      }, 200);
    });
    // RESPONSIVE RESIZE
    window.addEventListener('resize', () => {
      ["top", "concerts", "shows", "attractions", "today"].forEach(k => {
        const limit = state[k].showAll ? 999 : 6;
        renderGrid(k, limit);
      });
    });
  </script>
  <!-- SCHEMA MARKUP FOR SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Dubai Events Online",
    "url": "https://www.dubaievents.online",
    "description": "Discover the best events, entertainment and things to do in Dubai",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://www.dubaievents.online/?search={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Dubai Events Online",
    "description": "Your guide to Dubai events, concerts, brunches, and entertainment",
    "@id": "https://www.dubaievents.online",
    "url": "https://www.dubaievents.online",
    "priceRange": "$$",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Dubai",
      "addressRegion": "Dubai",
      "addressCountry": "AE"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 25.2048,
      "longitude": 55.2708
    },
    "areaServed": {
      "@type": "City",
      "name": "Dubai"
    }
  }
  </script>
</body>

</html>